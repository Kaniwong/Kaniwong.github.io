<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>Kani &amp; Code</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="I&#39;m Kani üòÄ,a full stack web developer from China.This is my coding life.">
<meta property="og:type" content="website">
<meta property="og:title" content="Kani &amp; Code">
<meta property="og:url" content="https://kaniwong.github.io/index.html">
<meta property="og:site_name" content="Kani &amp; Code">
<meta property="og:description" content="I&#39;m Kani üòÄ,a full stack web developer from China.This is my coding life.">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="Kani Wong">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="Kani &amp; Code" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  
<link rel="stylesheet" href="/css/style.css">

<meta name="generator" content="Hexo 5.4.2"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Kani &amp; Code</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://kaniwong.github.io"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-ThemeKit-request-failed-after-5-retries-with-error" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2024/05/08/ThemeKit-request-failed-after-5-retries-with-error/" class="article-date">
  <time datetime="2024-05-08T14:26:47.000Z" itemprop="datePublished">2024-05-08</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Shopify/">Shopify</a>‚ñ∫<a class="article-category-link" href="/categories/Shopify/Theme/">Theme</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2024/05/08/ThemeKit-request-failed-after-5-retries-with-error/">ThemeKit request failed after 5 retries with error (Network)</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="Issue-warning-details"><a href="#Issue-warning-details" class="headerlink" title="Issue warning details"></a>Issue warning details</h1><blockquote>
<p>request failed after 5 retries with error: Get ‚Äú<a target="_blank" rel="noopener" href="https://theme-kit-access.shopifyapps.com/cli/meta.json&quot;">https://theme-kit-access.shopifyapps.com/cli/meta.json&quot;</a>: context deadline exceeded (Client.Timeout exceeded while awaiting headers)</p>
</blockquote>
<p>In my routine utilization of ThemeKit for Shopify theme development, I frequently encounter the aforementioned errors intermittently, which can indeed be vexing. Hence, this time, I endeavor to pinpoint the root cause and comprehensively resolve it.</p>
<p>I have previously authored an article addressing this issue. However, the method outlined in that article proved ineffective on this occasion as well. If you haven‚Äôt already read it, you may consider reviewing this article.</p>
<a href="/2023/04/06/Shopify-Theme-Kit-request-failed-after-5-retries-with-error/" title="Shopify Theme Kit request failed after 5 retries with error">Shopify Theme Kit request failed after 5 retries with error</a>

<h1 id="Before-you-start-it"><a href="#Before-you-start-it" class="headerlink" title="Before you start it"></a>Before you start it</h1><ul>
<li>You are using a VPN, and you have to utilize it to support your daily development.</li>
<li>I‚Äôm using  <code>Clash</code></li>
</ul>
<h1 id="Reason"><a href="#Reason" class="headerlink" title="Reason"></a>Reason</h1><p>This time, I‚Äôve realized that despite activating VPN for global proxy, Terminal might not be utilizing the proxy. Upon verification, it‚Äôs confirmed that executing  <code>curl google.com</code>  in Terminal doesn‚Äôt yield a response. This is also why I occasionally encounter this issue in my local environment.</p>
<h1 id="How-to-solve"><a href="#How-to-solve" class="headerlink" title="How to solve"></a>How to solve</h1><p>Check your Clash proxy port number.</p>
<img src="/2024/05/08/ThemeKit-request-failed-after-5-retries-with-error/20240508232108.jpg" class="" title="Clash settings">

<p>Run the following code snippet in the Terminal.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">export http_proxy=http://localhost:7890</span><br><span class="line">export https_proxy=http://localhost:7890</span><br></pre></td></tr></table></figure>

<p>Thus, the issue has been resolved this time. </p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://kaniwong.github.io/2024/05/08/ThemeKit-request-failed-after-5-retries-with-error/" data-id="clvy0488o0001u5cdatmec7j0" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Shopify/" rel="tag">Shopify</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Theme/" rel="tag">Theme</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-disable-viewport-zooming-iOS-10-safari" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2024/01/01/disable-viewport-zooming-iOS-10-safari/" class="article-date">
  <time datetime="2024-01-01T12:12:31.000Z" itemprop="datePublished">2024-01-01</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Shopify/">Shopify</a>‚ñ∫<a class="article-category-link" href="/categories/Shopify/Theme/">Theme</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2024/01/01/disable-viewport-zooming-iOS-10-safari/">Disable viewport zooming iOS 10+ safari?</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Usually this code will workingÔºåbut unfortunately on IOS10+ it‚Äôs not working.</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0, height=device-height, minimum-scale=1.0, user-scalable=0&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h1 id="How-to-solve"><a href="#How-to-solve" class="headerlink" title="How to solve"></a>How to solve</h1><p>After so many trying, I found the helpful solution on</p>
<p> <a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/37808180/disable-viewport-zooming-ios-10-safari">https://stackoverflow.com/questions/37808180/disable-viewport-zooming-ios-10-safari</a></p>
<p>Using the <a target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/Web/CSS/touch-action">toch-action</a> solved my problem, simple but effective</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">html</span>, <span class="selector-tag">body</span> &#123;</span><br><span class="line">    touch-action: pan-x pan-y</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


      
    </div>
    <footer class="article-footer">
      <a data-url="https://kaniwong.github.io/2024/01/01/disable-viewport-zooming-iOS-10-safari/" data-id="clvy048940007u5cdepeh4oy6" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Shopify/" rel="tag">Shopify</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Theme/" rel="tag">Theme</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Shopify-custom-font-OTS-parsing-error-Size-of-decompressed-WOFF-2-0-is-less-than-compressed-size" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2023/06/15/Shopify-custom-font-OTS-parsing-error-Size-of-decompressed-WOFF-2-0-is-less-than-compressed-size/" class="article-date">
  <time datetime="2023-06-15T03:09:15.000Z" itemprop="datePublished">2023-06-15</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Shopify/">Shopify</a>‚ñ∫<a class="article-category-link" href="/categories/Shopify/Theme/">Theme</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2023/06/15/Shopify-custom-font-OTS-parsing-error-Size-of-decompressed-WOFF-2-0-is-less-than-compressed-size/">Shopify custom font OTS parsing error Size of decompressed WOFF 2.0 is less than compressed size</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="Issue-warning-details"><a href="#Issue-warning-details" class="headerlink" title="Issue warning details"></a>Issue warning details</h1><img src="/2023/06/15/Shopify-custom-font-OTS-parsing-error-Size-of-decompressed-WOFF-2-0-is-less-than-compressed-size/20230615111254.jpg" class="" title="Warning">

<h1 id="Reason"><a href="#Reason" class="headerlink" title="Reason"></a>Reason</h1><p>Currently, I am not aware of the underlying cause; I merely know that this predicament emerged subsequent to the update of the Shopify online editor.</p>
<h1 id="How-to-solve"><a href="#How-to-solve" class="headerlink" title="How to solve"></a>How to solve</h1><p>Kindly log in to your Shopify backend, and subsequently enter the term ‚Äúfile‚Äù within the search field.</p>
<img src="/2023/06/15/Shopify-custom-font-OTS-parsing-error-Size-of-decompressed-WOFF-2-0-is-less-than-compressed-size/20230615111807.jpg" class="" title="search bar">

<p>Proceed with the upload of the custom font file that you intend to utilize.</p>
<img src="/2023/06/15/Shopify-custom-font-OTS-parsing-error-Size-of-decompressed-WOFF-2-0-is-less-than-compressed-size/20230615111853.jpg" class="" title="upload">

<p>Upon successful completion of the upload, click on the option to copy the file link.</p>
<img src="/2023/06/15/Shopify-custom-font-OTS-parsing-error-Size-of-decompressed-WOFF-2-0-is-less-than-compressed-size/20230615112114.jpg" class="" title="upload">

<p>To finalize the process, incorporate the custom font CSS code into your theme.</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@font-face</span> &#123;</span><br><span class="line">    <span class="attribute">font-family</span>: <span class="string">&quot;ConthraxSb&quot;</span>;</span><br><span class="line">    <span class="attribute">src</span>: <span class="built_in">url</span>(<span class="string">&quot;https://cdn.shopify.com/s/files/1/0383/1608/1284/files/ConthraxSb-Regular.woff?v=1686799251&quot;</span>) <span class="built_in">format</span>(<span class="string">&quot;woff&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<img src="/2023/06/15/Shopify-custom-font-OTS-parsing-error-Size-of-decompressed-WOFF-2-0-is-less-than-compressed-size/20230615113216.jpg" class="" title="fixed">

<p>PSÔºöWhile Shopify recommends using ‚Äòfile_url‚Äô as the preferred method, at the time of my writing, ‚Äòfile_url‚Äô still exhibits the same issue as ‚Äòasset_url‚Äô. Therefore, in this instance, I directly copied the file link for reference.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">@font-face &#123;</span><br><span class="line">  font-family: &quot;Font name&quot;;</span><br><span class="line">  src: url(&quot;&#123;&#123; &#x27;[font-file-name]&#x27; | file_url &#125;&#125;&quot;) format(&quot;[font-format]&quot;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


      
    </div>
    <footer class="article-footer">
      <a data-url="https://kaniwong.github.io/2023/06/15/Shopify-custom-font-OTS-parsing-error-Size-of-decompressed-WOFF-2-0-is-less-than-compressed-size/" data-id="clvy048b0003lu5cd1la556g1" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Shopify/" rel="tag">Shopify</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Theme/" rel="tag">Theme</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-How-to-set-the-default-availability-as-in-stock-for-Search-Discovery" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2023/04/16/How-to-set-the-default-availability-as-in-stock-for-Search-Discovery/" class="article-date">
  <time datetime="2023-04-16T12:02:47.000Z" itemprop="datePublished">2023-04-16</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Shopify/">Shopify</a>‚ñ∫<a class="article-category-link" href="/categories/Shopify/Search-Discovery/">Search & Discovery</a>‚ñ∫<a class="article-category-link" href="/categories/Shopify/Search-Discovery/Theme/">Theme</a>‚ñ∫<a class="article-category-link" href="/categories/Shopify/Search-Discovery/Theme/Filter/">Filter</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2023/04/16/How-to-set-the-default-availability-as-in-stock-for-Search-Discovery/">How to set the default availability as in-stock for Search &amp; Discovery?</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="How-it-works"><a href="#How-it-works" class="headerlink" title="How it works"></a>How it works</h1><p>As Search &amp; Discovery doesn‚Äôt support setting default filter values, we can only modify the collections link through JavaScript.</p>
<h1 id="Javascript-code"><a href="#Javascript-code" class="headerlink" title="Javascript code"></a>Javascript code</h1><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">class</span> <span class="title class_">LinkModifier</span> &#123;</span></span><br><span class="line"><span class="language-javascript">  <span class="title function_">constructor</span>(<span class="params">blockedKeywords, defaultFilterOptions</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="variable language_">this</span>.<span class="property">blockedKeywords</span> = blockedKeywords;</span></span><br><span class="line"><span class="language-javascript">    <span class="variable language_">this</span>.<span class="property">defaultFilterOptions</span> = defaultFilterOptions.<span class="title function_">join</span>(<span class="string">&#x27;&amp;&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">  &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="title function_">modifyLinks</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// Find all &lt;a&gt; tags with an href attribute that contains &quot;collections&quot; but does not contain &quot;products&quot;</span></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> links = <span class="variable language_">document</span>.<span class="title function_">querySelectorAll</span>(<span class="string">&#x27;a[href*=&quot;collections&quot;]:not([href*=&quot;products&quot;])&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// Modify the href attribute of all matching &lt;a&gt; tags by adding the default filter options to the end of the URL</span></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// If the URL already contains a query string, add &quot;&amp;&quot; to the end; otherwise, add &quot;?&quot;</span></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; links.<span class="property">length</span>; i++) &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">let</span> href = links[i].<span class="title function_">getAttribute</span>(<span class="string">&#x27;href&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">      <span class="comment">// Check if the current URL contains any of the blocked keywords, and skip if it does</span></span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">blockedKeywords</span>.<span class="title function_">some</span>(<span class="function"><span class="params">keyword</span> =&gt;</span> href.<span class="title function_">includes</span>(keyword))) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">continue</span>;</span></span><br><span class="line"><span class="language-javascript">      &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">let</span> separator = href.<span class="title function_">indexOf</span>(<span class="string">&#x27;?&#x27;</span>) !== -<span class="number">1</span> ? <span class="string">&#x27;&amp;&#x27;</span> : <span class="string">&#x27;?&#x27;</span>;</span></span><br><span class="line"><span class="language-javascript">      href += separator + <span class="variable language_">this</span>.<span class="property">defaultFilterOptions</span>;</span></span><br><span class="line"><span class="language-javascript">      links[i].<span class="title function_">setAttribute</span>(<span class="string">&#x27;href&#x27;</span>, href);</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript">  &#125;</span></span><br><span class="line"><span class="language-javascript">&#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="comment">// Create an instance of the LinkModifier class with an array of blocked keywords and default filter options</span></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">const</span> linkModifier = <span class="keyword">new</span> <span class="title class_">LinkModifier</span>([<span class="string">&#x27;blocked&#x27;</span>, <span class="string">&#x27;keywords&#x27;</span>, <span class="string">&#x27;go&#x27;</span>, <span class="string">&#x27;here&#x27;</span>], [<span class="string">&#x27;filter.v.availability=1&#x27;</span>, <span class="string">&#x27;filter.v.color=red&#x27;</span>]);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="comment">// Wait for the page to finish loading, then execute the modifyLinks method of the LinkModifier instance</span></span></span><br><span class="line"><span class="language-javascript"><span class="variable language_">window</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;load&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript">  linkModifier.<span class="title function_">modifyLinks</span>();</span></span><br><span class="line"><span class="language-javascript">&#125;);</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h1 id="How-to-use"><a href="#How-to-use" class="headerlink" title="How to use"></a>How to use</h1><ul>
<li>Online store &gt; themes &gt; Actions &gt; Edit code &gt; theme.liquid</li>
<li>Copy the code above and paste it before the <code>&lt;/body&gt;</code> tag.</li>
<li>Find this piece of code. </li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> linkModifier = <span class="keyword">new</span> <span class="title class_">LinkModifier</span>([<span class="string">&#x27;blocked&#x27;</span>, <span class="string">&#x27;keywords&#x27;</span>, <span class="string">&#x27;go&#x27;</span>, <span class="string">&#x27;here&#x27;</span>], [<span class="string">&#x27;filter.v.availability=1&#x27;</span>, <span class="string">&#x27;filter.v.color=red&#x27;</span>]);</span><br></pre></td></tr></table></figure>

<p>If we want some pages to not have default filter options, we can add those collection handles in the first parameter. If not, keep the array empty <code>[]</code>.</p>
<p>The second parameter is for the parameters that you wish to set as defaults, with the format of <code>filter name=filter value</code>.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://kaniwong.github.io/2023/04/16/How-to-set-the-default-availability-as-in-stock-for-Search-Discovery/" data-id="clvy048az003au5cd7icwfuxv" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Filter/" rel="tag">Filter</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Search-Discovery/" rel="tag">Search & Discovery</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Shopify/" rel="tag">Shopify</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Theme/" rel="tag">Theme</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Shopify-Theme-Kit-request-failed-after-5-retries-with-error" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2023/04/06/Shopify-Theme-Kit-request-failed-after-5-retries-with-error/" class="article-date">
  <time datetime="2023-04-06T01:12:37.000Z" itemprop="datePublished">2023-04-06</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Shopify/">Shopify</a>‚ñ∫<a class="article-category-link" href="/categories/Shopify/Theme/">Theme</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2023/04/06/Shopify-Theme-Kit-request-failed-after-5-retries-with-error/">Shopify Theme Kit request failed after 5 retries with error</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <blockquote>
<p>request failed after 5 retries with error: Get ‚Äú<a target="_blank" rel="noopener" href="https://theme-kit-access.shopifyapps.com/cli/meta.json&quot;">https://theme-kit-access.shopifyapps.com/cli/meta.json&quot;</a>: context deadline exceeded (Client.Timeout exceeded while awaiting headers)</p>
</blockquote>
<h1 id="Environment"><a href="#Environment" class="headerlink" title="Environment"></a>Environment</h1><ul>
<li>OS: macOs Ventura 13.3, chip M1 MAX</li>
<li>Themekit version: ThemeKit 1.3.1</li>
</ul>
<h1 id="How-I-resolved-it"><a href="#How-I-resolved-it" class="headerlink" title="How I resolved it?"></a>How I resolved it?</h1><p>I utilized the password generated by a private app instead of <a target="_blank" rel="noopener" href="https://shopify.dev/docs/themes/tools/theme-access">Theme Access app</a>.</p>
<p>If you have also begun utilizing Theme Kit based on  <a target="_blank" rel="noopener" href="https://shopify.dev/docs/themes/tools/theme-kit/getting-started">Theme kit getting started</a>, we may possibly encounter similar issues.</p>
<p>If you have attempted numerous methods and still have not attained a solution, perhaps you should abandon the utilization of the theme access app, as I did.</p>
<p>Although we might see such prompts, but it does not matter. After all, theme access is unusable for us. üòÖ</p>
<img src="/2023/04/06/Shopify-Theme-Kit-request-failed-after-5-retries-with-error/20230406100422.jpg" class="" title="warning">

<h1 id="Troubleshooting"><a href="#Troubleshooting" class="headerlink" title="Troubleshooting"></a>Troubleshooting</h1><p>If the aforementioned method did not resolve your issue, you can attempt to follow this thought process to search for an answer.</p>
<p>Here are some of the tests I have performed:</p>
<ul>
<li>Create a new theme access password and ensure that the password is correct.</li>
<li>Verify if the firewall has been enabled.</li>
<li>Update Theme Kit to the latest version.</li>
<li>Try using a different device.</li>
<li>Try using a different operating system. I tested on both macOS and Windows 10.</li>
<li>Test while utilizing VPN with global proxy, and try different country nodes.</li>
<li>Try using mobile data as a hotspot.</li>
<li>Try testing with different Shopify stores.</li>
</ul>
<h1 id="End"><a href="#End" class="headerlink" title="End"></a>End</h1><p>If you have any other solutions, please feel free to leave a comment to facilitate learning and discussion among everyone.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://kaniwong.github.io/2023/04/06/Shopify-Theme-Kit-request-failed-after-5-retries-with-error/" data-id="clvy048b0003gu5cdakj1gf2o" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Shopify/" rel="tag">Shopify</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Theme/" rel="tag">Theme</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Range-settings-must-have-at-most-101-steps" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2023/03/18/Range-settings-must-have-at-most-101-steps/" class="article-date">
  <time datetime="2023-03-18T09:52:56.000Z" itemprop="datePublished">2023-03-18</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Shopify/">Shopify</a>‚ñ∫<a class="article-category-link" href="/categories/Shopify/Theme/">Theme</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2023/03/18/Range-settings-must-have-at-most-101-steps/">Range settings must have at most 101 steps</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <img src="/2023/03/18/Range-settings-must-have-at-most-101-steps/20230318175502.jpg" class="" title="Range step issue">

<p>You may have same issue when setting shopify range step. </p>
<p>It means you can only have 100 <code>step</code> between <code>min</code> and <code>max</code></p>
<p>For example</p>
<p>When <code>step</code> is 1</p>
<p>You can setting <code>min</code> 0 and <code>max</code> 100</p>
<p>When <code>step</code> is 10</p>
<p>You can setting <code>min</code> 0 and <code>max</code> 1000</p>
<p>Following this rule, issue will gone! üéâ</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://kaniwong.github.io/2023/03/18/Range-settings-must-have-at-most-101-steps/" data-id="clvy048az003du5cdhgc7ebiq" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Shopify/" rel="tag">Shopify</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Theme/" rel="tag">Theme</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-How-to-remove-sort-by-option-Dawn-theme-Shopify" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2023/01/04/How-to-remove-sort-by-option-Dawn-theme-Shopify/" class="article-date">
  <time datetime="2023-01-04T05:43:46.000Z" itemprop="datePublished">2023-01-04</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Shopify/">Shopify</a>‚ñ∫<a class="article-category-link" href="/categories/Shopify/Dawn/">Dawn</a>‚ñ∫<a class="article-category-link" href="/categories/Shopify/Dawn/Theme/">Theme</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2023/01/04/How-to-remove-sort-by-option-Dawn-theme-Shopify/">How to remove &#34;sort by&#34; option  - Dawn theme Shopify</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="Before-you-start-it"><a href="#Before-you-start-it" class="headerlink" title="Before you start it"></a>Before you start it</h1><ul>
<li>Dawn theme version at this post is 6.0.2</li>
<li>Duplicate your theme</li>
<li>Online store &gt; themes &gt; Actions &gt; Edit code (Code editor)</li>
</ul>
<h2 id="Quick-Look-üëÄ"><a href="#Quick-Look-üëÄ" class="headerlink" title="Quick Look üëÄ"></a>Quick Look üëÄ</h2><img src="/2023/01/04/How-to-remove-sort-by-option-Dawn-theme-Shopify/20230104135507.jpg" class="" title="Collection sort by">

<h2 id="Getting-started-‚úèÔ∏è"><a href="#Getting-started-‚úèÔ∏è" class="headerlink" title="Getting started ‚úèÔ∏è"></a>Getting started ‚úèÔ∏è</h2><h3 id="facets-liquid"><a href="#facets-liquid" class="headerlink" title="facets.liquid"></a>facets.liquid</h3><p>1: Assign option name you want to hide (name connect with ‚Äú + ‚Äú )</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">assign sort_by_hidden_options = &#x27;Best selling + Price, low to high&#x27; | split: &#x27; + &#x27;</span><br></pre></td></tr></table></figure>

<img src="/2023/01/04/How-to-remove-sort-by-option-Dawn-theme-Shopify/20230104140455.jpg" class="" title="option name">

<p>2: <code>Ctrl + F</code> Search keyword  <code>&#123;%- for option in results.sort_options -%&#125;</code>, insert this code after it</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;%- if sort_by_hidden_options contains option.name -%&#125;</span><br><span class="line">     &#123;%- continue -%&#125;</span><br><span class="line">&#123;%- endif -%&#125;</span><br></pre></td></tr></table></figure>

<p>Ps: there are multiple line need to add</p>
<img src="/2023/01/04/How-to-remove-sort-by-option-Dawn-theme-Shopify/20230104141000.jpg" class="" title="sort by code">

<p>3: Save</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://kaniwong.github.io/2023/01/04/How-to-remove-sort-by-option-Dawn-theme-Shopify/" data-id="clvy048ay0036u5cdeqwj6dxe" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Dawn/" rel="tag">Dawn</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Shopify/" rel="tag">Shopify</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Theme/" rel="tag">Theme</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Sticky-Header-Dawn-Theme-Shopify" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2022/10/02/Sticky-Header-Dawn-Theme-Shopify/" class="article-date">
  <time datetime="2022-10-02T12:03:05.000Z" itemprop="datePublished">2022-10-02</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Shopify/">Shopify</a>‚ñ∫<a class="article-category-link" href="/categories/Shopify/Dawn/">Dawn</a>‚ñ∫<a class="article-category-link" href="/categories/Shopify/Dawn/Theme/">Theme</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2022/10/02/Sticky-Header-Dawn-Theme-Shopify/">Sticky Header - Dawn Theme Shopify (Update)</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="Before-you-start-it"><a href="#Before-you-start-it" class="headerlink" title="Before you start it"></a>Before you start it</h1><ul>
<li>Dawn theme version at this post is 6.0.2</li>
<li>Duplicate your theme</li>
</ul>
<h2 id="Quick-Look-üëÄ"><a href="#Quick-Look-üëÄ" class="headerlink" title="Quick Look üëÄ"></a>Quick Look üëÄ</h2><img src="/2022/10/02/Sticky-Header-Dawn-Theme-Shopify/chrome-capture-2022-7-27.gif" class="" title="sticky header">

<h2 id="Getting-started-‚úèÔ∏è"><a href="#Getting-started-‚úèÔ∏è" class="headerlink" title="Getting started ‚úèÔ∏è"></a>Getting started ‚úèÔ∏è</h2><h3 id="header-liquid"><a href="#header-liquid" class="headerlink" title="header.liquid"></a>header.liquid</h3><ul>
<li>Online store &gt; themes &gt; Actions &gt; Edit code &gt; Sections &gt; header.liquid</li>
<li>change class  <code>section-header</code> to <code> section-header shopify-section-header-sticky</code></li>
</ul>
<img src="/2022/10/02/Sticky-Header-Dawn-Theme-Shopify/Dingtalk_20221002200127.jpg" class="" title="sticky class">

<h3 id="Settings"><a href="#Settings" class="headerlink" title="Settings"></a>Settings</h3><p>remember to disable sticky settings.</p>
<img src="/2022/10/02/Sticky-Header-Dawn-Theme-Shopify/Dingtalk_20221002200600.jpg" class="" title="disable sticky">


      
    </div>
    <footer class="article-footer">
      <a data-url="https://kaniwong.github.io/2022/10/02/Sticky-Header-Dawn-Theme-Shopify/" data-id="clvy048av0035u5cd2c0j6qot" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Dawn/" rel="tag">Dawn</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Shopify/" rel="tag">Shopify</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Theme/" rel="tag">Theme</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Display-the-date-like-May-5th-using-Liquid-strftime" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2022/09/28/Display-the-date-like-May-5th-using-Liquid-strftime/" class="article-date">
  <time datetime="2022-09-28T03:10:51.000Z" itemprop="datePublished">2022-09-28</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Shopify/">Shopify</a>‚ñ∫<a class="article-category-link" href="/categories/Shopify/Liquid/">Liquid</a>‚ñ∫<a class="article-category-link" href="/categories/Shopify/Liquid/Theme/">Theme</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2022/09/28/Display-the-date-like-May-5th-using-Liquid-strftime/">Display the date, like &#34;May 5th&#34;, using Liquid strftime?</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="Quick-Look-üëÄ"><a href="#Quick-Look-üëÄ" class="headerlink" title="Quick Look üëÄ"></a>Quick Look üëÄ</h2><img src="/2022/09/28/Display-the-date-like-May-5th-using-Liquid-strftime/Kani_0-1664333338151.png" class="" title="Date example">

<h2 id="How-to-do-it"><a href="#How-to-do-it" class="headerlink" title="How to do it"></a>How to do it</h2><p><a target="_blank" rel="noopener" href="http://strftime.net/">Strftime</a> doesn‚Äôt allow you to format a date with a suffix. </p>
<p>So we can build filter to get the correct suffix.</p>
<img src="/2022/09/28/Display-the-date-like-May-5th-using-Liquid-strftime/d01373f082025aaf375d185af1edab64034f1a37.webp" class="" title="Date rules">

<h2 id="Getting-started-‚úèÔ∏è"><a href="#Getting-started-‚úèÔ∏è" class="headerlink" title="Getting started ‚úèÔ∏è"></a>Getting started ‚úèÔ∏è</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&#123;% assign day = &quot;now&quot; | date: &quot;%e&quot;| modulo: 10 %&#125;</span><br><span class="line">&#123;%- case day -%&#125;</span><br><span class="line">    &#123;%- when 1 -%&#125;</span><br><span class="line">        &#123;% assign suffix = &#x27;st&#x27; %&#125;</span><br><span class="line">    &#123;%- when 2 -%&#125;</span><br><span class="line">        &#123;% assign suffix = &#x27;nd&#x27; %&#125;</span><br><span class="line">    &#123;%- when 3 -%&#125;</span><br><span class="line">        &#123;% assign suffix = &#x27;rd&#x27; %&#125;</span><br><span class="line">    &#123;%- else -%&#125;</span><br><span class="line">        &#123;% assign suffix = &#x27;th&#x27; %&#125;</span><br><span class="line">&#123;%- endcase -%&#125;</span><br><span class="line">&#123;&#123; &quot;now&quot; | date: &quot;%e[S] %B, %Y&quot; | replace: &#x27;[S]&#x27;,suffix &#125;&#125;</span><br></pre></td></tr></table></figure>


      
    </div>
    <footer class="article-footer">
      <a data-url="https://kaniwong.github.io/2022/09/28/Display-the-date-like-May-5th-using-Liquid-strftime/" data-id="clvy0489i000cu5cd9xrj869z" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Liquid/" rel="tag">Liquid</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Shopify/" rel="tag">Shopify</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Theme/" rel="tag">Theme</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Add-Simple-countdown-timer-to-your-shopify-store-via-JavaScript" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2022/08/28/Add-Simple-countdown-timer-to-your-shopify-store-via-JavaScript/" class="article-date">
  <time datetime="2022-08-28T04:12:46.000Z" itemprop="datePublished">2022-08-28</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Shopify/">Shopify</a>‚ñ∫<a class="article-category-link" href="/categories/Shopify/JavaScript/">JavaScript</a>‚ñ∫<a class="article-category-link" href="/categories/Shopify/JavaScript/Theme/">Theme</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2022/08/28/Add-Simple-countdown-timer-to-your-shopify-store-via-JavaScript/">Add Simple countdown timer to your shopify store via JavaScript</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="Before-you-start-it"><a href="#Before-you-start-it" class="headerlink" title="Before you start it"></a>Before you start it</h1><ul>
<li>Dawn theme version at this post is 6.0.2</li>
<li>Duplicate your theme</li>
</ul>
<h2 id="Quick-Look-üëÄ"><a href="#Quick-Look-üëÄ" class="headerlink" title="Quick Look üëÄ"></a>Quick Look üëÄ</h2><img src="/2022/08/28/Add-Simple-countdown-timer-to-your-shopify-store-via-JavaScript/chrome-capture-2022-7-28.gif" class="" title="Countdown in AnnouncementBar">

<h2 id="Getting-started-‚úèÔ∏è"><a href="#Getting-started-‚úèÔ∏è" class="headerlink" title="Getting started ‚úèÔ∏è"></a>Getting started ‚úèÔ∏è</h2><h3 id="flash-sale-script-liquid"><a href="#flash-sale-script-liquid" class="headerlink" title="flash-sale-script.liquid"></a>flash-sale-script.liquid</h3><ul>
<li><p>Online store &gt; themes &gt; Actions &gt; Edit code &gt; Snippets &gt; ‚ûï Create a new snippet</p>
</li>
<li><p>Paste code and save </p>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">  <span class="comment">/*</span></span><br><span class="line"><span class="comment">  Javascript count down timer</span></span><br><span class="line"><span class="comment">  data format: 2021-10-7 18:00:00</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line">  (<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">convertDateForIos</span>(<span class="params">date</span>) &#123;</span><br><span class="line">      <span class="keyword">var</span> arr = date.<span class="title function_">split</span>(<span class="regexp">/[- :]/</span>);</span><br><span class="line">      date = <span class="keyword">new</span> <span class="title class_">Date</span>(arr[<span class="number">0</span>], arr[<span class="number">1</span>]-<span class="number">1</span>, arr[<span class="number">2</span>], arr[<span class="number">3</span>], arr[<span class="number">4</span>], arr[<span class="number">5</span>]).<span class="title function_">getTime</span>();</span><br><span class="line">      <span class="keyword">return</span> date;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">const</span> second = <span class="number">1000</span>,</span><br><span class="line">          minute = second * <span class="number">60</span>,</span><br><span class="line">          hour = minute * <span class="number">60</span>,</span><br><span class="line">          day = hour * <span class="number">24</span>;</span><br><span class="line">    <span class="comment">// get all timer placeholder by class</span></span><br><span class="line">    <span class="keyword">const</span> timers = <span class="variable language_">document</span>.<span class="title function_">querySelectorAll</span>(<span class="string">&#x27;.CountdownTimer&#x27;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> endDay = <span class="string">&quot;2022-08-29 18:00:00&quot;</span>,</span><br><span class="line">    countDown = <span class="title function_">convertDateForIos</span>(endDay);</span><br><span class="line">    <span class="keyword">let</span> x = <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">    <span class="keyword">let</span> timerHtml = <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">      x = <span class="built_in">setInterval</span>(<span class="keyword">function</span> <span class="title function_">ins1</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="comment">// lock time zone</span></span><br><span class="line">      <span class="keyword">let</span> c = <span class="keyword">new</span> <span class="title class_">Date</span>().<span class="title function_">toLocaleString</span>(<span class="string">&#x27;en-US&#x27;</span>, &#123; <span class="attr">timeZone</span>: <span class="string">&#x27;Europe/London&#x27;</span> &#125;);</span><br><span class="line">      <span class="keyword">let</span> sensibleFormat = <span class="keyword">new</span> <span class="title class_">Date</span>(c);</span><br><span class="line"></span><br><span class="line">      <span class="keyword">let</span> now = sensibleFormat.<span class="title function_">getTime</span>(),</span><br><span class="line">          distance = countDown - now;</span><br><span class="line">      <span class="keyword">let</span> dayText =  <span class="title class_">Math</span>.<span class="title function_">floor</span>(distance / (day));</span><br><span class="line">      <span class="keyword">let</span> hoursText =  <span class="title class_">Math</span>.<span class="title function_">floor</span>((distance % (day)) / (hour));</span><br><span class="line">      <span class="keyword">let</span> minutesText =  <span class="title class_">Math</span>.<span class="title function_">floor</span>((distance % (hour)) / (minute));</span><br><span class="line">      <span class="keyword">let</span> secondText = <span class="title class_">Math</span>.<span class="title function_">floor</span>((distance % (minute)) / second);</span><br><span class="line">      <span class="keyword">if</span>(dayText)&#123;</span><br><span class="line">        timerHtml = <span class="string">&#x27;&lt;b&gt;&#x27;</span>+dayText+<span class="string">&#x27;&lt;/b&gt;d &lt;b&gt;&#x27;</span>+hoursText+<span class="string">&#x27;&lt;/b&gt;h &lt;b&gt;&#x27;</span>+minutesText+<span class="string">&#x27;&lt;/b&gt;m &lt;b&gt;&#x27;</span>+secondText.<span class="title function_">toString</span>().<span class="title function_">padStart</span>(<span class="number">2</span>, <span class="string">&#x27;0&#x27;</span>)+<span class="string">&#x27;&lt;/b&gt;s&#x27;</span>;</span><br><span class="line">      &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        timerHtml =  <span class="string">&#x27;&lt;b&gt;&#x27;</span>+hoursText+<span class="string">&#x27;h &#x27;</span>+minutesText+<span class="string">&#x27;m &#x27;</span>+secondText+<span class="string">&#x27;s&lt;/b&gt;&#x27;</span>;</span><br><span class="line">      &#125;</span><br><span class="line">      timers.<span class="title function_">forEach</span>(<span class="keyword">function</span>(<span class="params">element</span>)&#123;</span><br><span class="line">        element.<span class="property">innerHTML</span> = timerHtml;</span><br><span class="line">      &#125;);</span><br><span class="line">      <span class="comment">//do something later when date is reached</span></span><br><span class="line">      <span class="keyword">if</span> (distance &lt; <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="built_in">clearInterval</span>(x);</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">return</span> ins1;</span><br><span class="line">      <span class="comment">//seconds</span></span><br><span class="line">    &#125;(), <span class="number">1000</span>);</span><br><span class="line">  &#125;());</span><br><span class="line"></span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="theme-liquid"><a href="#theme-liquid" class="headerlink" title="theme.liquid"></a>theme.liquid</h3><p>Paste code before <code>&lt;/body&gt;</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% include &#x27;flash-sale-script&#x27; %&#125;</span><br></pre></td></tr></table></figure>

<h2 id="How-to-use"><a href="#How-to-use" class="headerlink" title="How to use"></a>How to use</h2><h3 id="announcement-bar-liquid"><a href="#announcement-bar-liquid" class="headerlink" title="announcement-bar.liquid"></a>announcement-bar.liquid</h3><ul>
<li><p>Online store &gt; themes &gt; Actions &gt; Edit code &gt; Sections &gt; announcement-bar</p>
</li>
<li><p>Paste code at the position you want ( timer is right after announcement bar text</p>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;span class=&quot;CountdownTimer&quot;&gt;&lt;/span&gt;</span><br></pre></td></tr></table></figure>

<img src="/2022/08/28/Add-Simple-countdown-timer-to-your-shopify-store-via-JavaScript/Dingtalk_20220828185824.jpg" class="" title="AnnouncementBar code">

      
    </div>
    <footer class="article-footer">
      <a data-url="https://kaniwong.github.io/2022/08/28/Add-Simple-countdown-timer-to-your-shopify-store-via-JavaScript/" data-id="clvy048950008u5cd7asr18da" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/JavaScript/" rel="tag">JavaScript</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Shopify/" rel="tag">Shopify</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Theme/" rel="tag">Theme</a></li></ul>

    </footer>
  </div>
  
</article>


  


  <nav id="page-nav">
    
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/">Next &amp;raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Shopify/">Shopify</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Shopify/Dawn/">Dawn</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Shopify/Dawn/Theme/">Theme</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Shopify/JavaScript/">JavaScript</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Shopify/JavaScript/Theme/">Theme</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Shopify/Liquid/">Liquid</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Shopify/Liquid/Theme/">Theme</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Shopify/SEO/">SEO</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Shopify/Search-Discovery/">Search & Discovery</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Shopify/Search-Discovery/Theme/">Theme</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Shopify/Search-Discovery/Theme/Filter/">Filter</a></li></ul></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Shopify/Shopify-Script/">Shopify Script</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Shopify/Shopify-Script/Script-Editor/">Script Editor</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Shopify/Theme/">Theme</a></li></ul></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Dawn/" rel="tag">Dawn</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Filter/" rel="tag">Filter</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/GraphQl/" rel="tag">GraphQl</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JavaScript/" rel="tag">JavaScript</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Liquid/" rel="tag">Liquid</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SEO/" rel="tag">SEO</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Script-Editor/" rel="tag">Script Editor</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Search-Discovery/" rel="tag">Search & Discovery</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Shopify/" rel="tag">Shopify</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Shopify-Script/" rel="tag">Shopify Script</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Theme/" rel="tag">Theme</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/Dawn/" style="font-size: 13.33px;">Dawn</a> <a href="/tags/Filter/" style="font-size: 10px;">Filter</a> <a href="/tags/GraphQl/" style="font-size: 10px;">GraphQl</a> <a href="/tags/JavaScript/" style="font-size: 10px;">JavaScript</a> <a href="/tags/Liquid/" style="font-size: 10px;">Liquid</a> <a href="/tags/SEO/" style="font-size: 10px;">SEO</a> <a href="/tags/Script-Editor/" style="font-size: 10px;">Script Editor</a> <a href="/tags/Search-Discovery/" style="font-size: 10px;">Search & Discovery</a> <a href="/tags/Shopify/" style="font-size: 20px;">Shopify</a> <a href="/tags/Shopify-Script/" style="font-size: 10px;">Shopify Script</a> <a href="/tags/Theme/" style="font-size: 16.67px;">Theme</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/05/">May 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/01/">January 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/06/">June 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/04/">April 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/03/">March 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/01/">January 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/10/">October 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/09/">September 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/08/">August 2022</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2024/05/08/ThemeKit-request-failed-after-5-retries-with-error/">ThemeKit request failed after 5 retries with error (Network)</a>
          </li>
        
          <li>
            <a href="/2024/01/01/disable-viewport-zooming-iOS-10-safari/">Disable viewport zooming iOS 10+ safari?</a>
          </li>
        
          <li>
            <a href="/2023/06/15/Shopify-custom-font-OTS-parsing-error-Size-of-decompressed-WOFF-2-0-is-less-than-compressed-size/">Shopify custom font OTS parsing error Size of decompressed WOFF 2.0 is less than compressed size</a>
          </li>
        
          <li>
            <a href="/2023/04/16/How-to-set-the-default-availability-as-in-stock-for-Search-Discovery/">How to set the default availability as in-stock for Search &amp; Discovery?</a>
          </li>
        
          <li>
            <a href="/2023/04/06/Shopify-Theme-Kit-request-failed-after-5-retries-with-error/">Shopify Theme Kit request failed after 5 retries with error</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2024 Kani Wong<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  
<link rel="stylesheet" href="/fancybox/jquery.fancybox.css">

  
<script src="/fancybox/jquery.fancybox.pack.js"></script>




<script src="/js/script.js"></script>




  </div>
</body>
</html>